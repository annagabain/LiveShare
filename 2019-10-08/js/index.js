// Generated by CoffeeScript 2.4.1
var binary, calc, div, h1, input, misc, onkeyup, op1, op2, render, renderable, stack, unary,
  indexOf = [].indexOf;

({div, h1, renderable, input} = teacup);

stack = [];

misc = {};

misc['drop'] = function() {
  return stack.pop();
};

misc['swap'] = function() {
  var a, b;
  a = stack.pop();
  b = stack.pop();
  stack.push(a);
  return stack.push(b);
};

unary = {};

unary['chs'] = function(x) {
  return -x;
};

unary['1/x'] = function(x) {
  return 1 / x;
};

unary['sin'] = function(x) {
  return Math.sin(x / 180 * Math.PI);
};

binary = {};

binary['+'] = function(x, y) {
  return x + y;
};

binary['*'] = function(x, y) {
  return x * y;
};

binary['-'] = function(x, y) {
  return x - y;
};

binary['/'] = function(x, y) {
  return x / y;
};

render = renderable(function() {
  return div({
    style: 'font-family:Courier New;font-size:30px'
  }, function() {
    var i, item, len;
    div(_.keys(misc).join(' '));
    div(_.keys(unary).join(' '));
    div(_.keys(binary).join(' '));
    for (i = 0, len = stack.length; i < len; i++) {
      item = stack[i];
      h1(item);
    }
    return input({
      id: 'x',
      type: "text",
      name: "nr",
      onkeyup: onkeyup,
      style: 'font-family:Courier New;font-size:30px'
    });
  });
});

op1 = function(f) {
  var x;
  x = stack.pop();
  return stack.push(f(x));
};

op2 = function(f) {
  var x, y;
  x = stack.pop();
  y = stack.pop();
  return stack.push(f(y, x));
};

calc = function(cmd) {
  var nr;
  if (indexOf.call(_.keys(misc), cmd) >= 0) {
    return misc[cmd]();
  }
  if (indexOf.call(_.keys(unary), cmd) >= 0) {
    return op1(unary[cmd]);
  }
  if (indexOf.call(_.keys(binary), cmd) >= 0) {
    return op2(binary[cmd]);
  }
  nr = parseFloat(cmd);
  if (!isNaN(nr)) {
    return stack.push(nr);
  }
};

onkeyup = (evt) => {
  var cmd, i, len, ref;
  if (evt.key === 'Enter') {
    if (evt.target.value === '') {
      stack.push(_.last(stack));
    } else {
      ref = evt.target.value.split(' ');
      for (i = 0, len = ref.length; i < len; i++) {
        cmd = ref[i];
        calc(cmd);
      }
    }
    evt.target.value = '';
    root.innerHTML = render();
    return x.focus();
  }
};

root.innerHTML = render();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiLi4iLCJzb3VyY2VzIjpbImNvZmZlZVxcaW5kZXguY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxJQUFBLE1BQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsSUFBQSxFQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLE1BQUEsRUFBQSxVQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUE7RUFBQTs7QUFBQSxDQUFBLENBQUMsR0FBRCxFQUFNLEVBQU4sRUFBVSxVQUFWLEVBQXNCLEtBQXRCLENBQUEsR0FBK0IsTUFBL0I7O0FBRUEsS0FBQSxHQUFROztBQUVSLElBQUEsR0FBTyxDQUFBOztBQUNQLElBQUssQ0FBQSxNQUFBLENBQUwsR0FBZSxRQUFBLENBQUEsQ0FBQTtTQUFHLEtBQUssQ0FBQyxHQUFOLENBQUE7QUFBSDs7QUFDZixJQUFLLENBQUEsTUFBQSxDQUFMLEdBQWUsUUFBQSxDQUFBLENBQUE7QUFDZCxNQUFBLENBQUEsRUFBQTtFQUFBLENBQUEsR0FBSSxLQUFLLENBQUMsR0FBTixDQUFBO0VBQ0osQ0FBQSxHQUFJLEtBQUssQ0FBQyxHQUFOLENBQUE7RUFDSixLQUFLLENBQUMsSUFBTixDQUFXLENBQVg7U0FDQSxLQUFLLENBQUMsSUFBTixDQUFXLENBQVg7QUFKYzs7QUFNZixLQUFBLEdBQVEsQ0FBQTs7QUFDUixLQUFNLENBQUEsS0FBQSxDQUFOLEdBQWUsUUFBQSxDQUFDLENBQUQsQ0FBQTtTQUFPLENBQUM7QUFBUjs7QUFDZixLQUFNLENBQUEsS0FBQSxDQUFOLEdBQWUsUUFBQSxDQUFDLENBQUQsQ0FBQTtTQUFPLENBQUEsR0FBRTtBQUFUOztBQUNmLEtBQU0sQ0FBQSxLQUFBLENBQU4sR0FBZSxRQUFBLENBQUMsQ0FBRCxDQUFBO1NBQU8sSUFBSSxDQUFDLEdBQUwsQ0FBUyxDQUFBLEdBQUksR0FBSixHQUFVLElBQUksQ0FBQyxFQUF4QjtBQUFQOztBQUVmLE1BQUEsR0FBUyxDQUFBOztBQUNULE1BQU8sQ0FBQSxHQUFBLENBQVAsR0FBYyxRQUFBLENBQUMsQ0FBRCxFQUFHLENBQUgsQ0FBQTtTQUFTLENBQUEsR0FBRTtBQUFYOztBQUNkLE1BQU8sQ0FBQSxHQUFBLENBQVAsR0FBYyxRQUFBLENBQUMsQ0FBRCxFQUFHLENBQUgsQ0FBQTtTQUFTLENBQUEsR0FBRTtBQUFYOztBQUNkLE1BQU8sQ0FBQSxHQUFBLENBQVAsR0FBYyxRQUFBLENBQUMsQ0FBRCxFQUFHLENBQUgsQ0FBQTtTQUFTLENBQUEsR0FBRTtBQUFYOztBQUNkLE1BQU8sQ0FBQSxHQUFBLENBQVAsR0FBYyxRQUFBLENBQUMsQ0FBRCxFQUFHLENBQUgsQ0FBQTtTQUFTLENBQUEsR0FBRTtBQUFYOztBQUVkLE1BQUEsR0FBUyxVQUFBLENBQVcsUUFBQSxDQUFBLENBQUE7U0FDbkIsR0FBQSxDQUFJO0lBQUEsS0FBQSxFQUFNO0VBQU4sQ0FBSixFQUFvRCxRQUFBLENBQUEsQ0FBQTtBQUNuRCxRQUFBLENBQUEsRUFBQSxJQUFBLEVBQUE7SUFBQSxHQUFBLENBQUksQ0FBQyxDQUFDLElBQUYsQ0FBTyxJQUFQLENBQVksQ0FBQyxJQUFiLENBQWtCLEdBQWxCLENBQUo7SUFDQSxHQUFBLENBQUksQ0FBQyxDQUFDLElBQUYsQ0FBTyxLQUFQLENBQWEsQ0FBQyxJQUFkLENBQW1CLEdBQW5CLENBQUo7SUFDQSxHQUFBLENBQUksQ0FBQyxDQUFDLElBQUYsQ0FBTyxNQUFQLENBQWMsQ0FBQyxJQUFmLENBQW9CLEdBQXBCLENBQUo7SUFDQSxLQUFBLHVDQUFBOztNQUNDLEVBQUEsQ0FBRyxJQUFIO0lBREQ7V0FFQSxLQUFBLENBQU07TUFBQSxFQUFBLEVBQUcsR0FBSDtNQUFRLElBQUEsRUFBSyxNQUFiO01BQXFCLElBQUEsRUFBSyxJQUExQjtNQUFnQyxPQUFBLEVBQVEsT0FBeEM7TUFBaUQsS0FBQSxFQUFNO0lBQXZELENBQU47RUFObUQsQ0FBcEQ7QUFEbUIsQ0FBWDs7QUFTVCxHQUFBLEdBQU0sUUFBQSxDQUFDLENBQUQsQ0FBQTtBQUNMLE1BQUE7RUFBQSxDQUFBLEdBQUksS0FBSyxDQUFDLEdBQU4sQ0FBQTtTQUNKLEtBQUssQ0FBQyxJQUFOLENBQVcsQ0FBQSxDQUFFLENBQUYsQ0FBWDtBQUZLOztBQUlOLEdBQUEsR0FBTSxRQUFBLENBQUMsQ0FBRCxDQUFBO0FBQ0wsTUFBQSxDQUFBLEVBQUE7RUFBQSxDQUFBLEdBQUksS0FBSyxDQUFDLEdBQU4sQ0FBQTtFQUNKLENBQUEsR0FBSSxLQUFLLENBQUMsR0FBTixDQUFBO1NBQ0osS0FBSyxDQUFDLElBQU4sQ0FBVyxDQUFBLENBQUUsQ0FBRixFQUFJLENBQUosQ0FBWDtBQUhLOztBQUtOLElBQUEsR0FBTyxRQUFBLENBQUMsR0FBRCxDQUFBO0FBQ04sTUFBQTtFQUFBLElBQUcsYUFBTyxDQUFDLENBQUMsSUFBRixDQUFPLElBQVAsQ0FBUCxFQUFBLEdBQUEsTUFBSDtBQUE2QixXQUFPLElBQUssQ0FBQSxHQUFBLENBQUwsQ0FBQSxFQUFwQzs7RUFDQSxJQUFHLGFBQU8sQ0FBQyxDQUFDLElBQUYsQ0FBTyxLQUFQLENBQVAsRUFBQSxHQUFBLE1BQUg7QUFBNkIsV0FBTyxHQUFBLENBQUksS0FBTSxDQUFBLEdBQUEsQ0FBVixFQUFwQzs7RUFDQSxJQUFHLGFBQU8sQ0FBQyxDQUFDLElBQUYsQ0FBTyxNQUFQLENBQVAsRUFBQSxHQUFBLE1BQUg7QUFBNkIsV0FBTyxHQUFBLENBQUksTUFBTyxDQUFBLEdBQUEsQ0FBWCxFQUFwQzs7RUFDQSxFQUFBLEdBQUssVUFBQSxDQUFXLEdBQVg7RUFDTCxJQUFHLENBQUksS0FBQSxDQUFNLEVBQU4sQ0FBUDtXQUFxQixLQUFLLENBQUMsSUFBTixDQUFXLEVBQVgsRUFBckI7O0FBTE07O0FBT1AsT0FBQSxHQUFVLENBQUMsR0FBRCxDQUFBLEdBQUE7QUFDVCxNQUFBLEdBQUEsRUFBQSxDQUFBLEVBQUEsR0FBQSxFQUFBO0VBQUEsSUFBRyxHQUFHLENBQUMsR0FBSixLQUFXLE9BQWQ7SUFDQyxJQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUMsS0FBWCxLQUFvQixFQUF2QjtNQUErQixLQUFLLENBQUMsSUFBTixDQUFXLENBQUMsQ0FBQyxJQUFGLENBQU8sS0FBUCxDQUFYLEVBQS9CO0tBQUEsTUFBQTtBQUNjO01BQUEsS0FBQSxxQ0FBQTs7UUFBVCxJQUFBLENBQUssR0FBTDtNQUFTLENBRGQ7O0lBRUEsR0FBRyxDQUFDLE1BQU0sQ0FBQyxLQUFYLEdBQW1CO0lBQ25CLElBQUksQ0FBQyxTQUFMLEdBQWlCLE1BQUEsQ0FBQTtXQUNqQixDQUFDLENBQUMsS0FBRixDQUFBLEVBTEQ7O0FBRFM7O0FBUVYsSUFBSSxDQUFDLFNBQUwsR0FBaUIsTUFBQSxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsie2RpdiwgaDEsIHJlbmRlcmFibGUsIGlucHV0fSA9IHRlYWN1cFxyXG5cclxuc3RhY2sgPSBbXVxyXG5cclxubWlzYyA9IHt9XHJcbm1pc2NbJ2Ryb3AnXSA9IC0+IHN0YWNrLnBvcCgpXHJcbm1pc2NbJ3N3YXAnXSA9IC0+IFxyXG5cdGEgPSBzdGFjay5wb3AoKVxyXG5cdGIgPSBzdGFjay5wb3AoKVxyXG5cdHN0YWNrLnB1c2ggYVxyXG5cdHN0YWNrLnB1c2ggYlxyXG5cclxudW5hcnkgPSB7fVxyXG51bmFyeVsnY2hzJ10gPSAoeCkgLT4gLXhcclxudW5hcnlbJzEveCddID0gKHgpIC0+IDEveFxyXG51bmFyeVsnc2luJ10gPSAoeCkgLT4gTWF0aC5zaW4geCAvIDE4MCAqIE1hdGguUElcclxuXHJcbmJpbmFyeSA9IHt9XHJcbmJpbmFyeVsnKyddID0gKHgseSkgLT4geCt5XHJcbmJpbmFyeVsnKiddID0gKHgseSkgLT4geCp5XHJcbmJpbmFyeVsnLSddID0gKHgseSkgLT4geC15XHJcbmJpbmFyeVsnLyddID0gKHgseSkgLT4geC95XHJcblxyXG5yZW5kZXIgPSByZW5kZXJhYmxlICgpIC0+XHJcblx0ZGl2IHN0eWxlOidmb250LWZhbWlseTpDb3VyaWVyIE5ldztmb250LXNpemU6MzBweCcsIC0+XHJcblx0XHRkaXYgXy5rZXlzKG1pc2MpLmpvaW4gJyAnXHJcblx0XHRkaXYgXy5rZXlzKHVuYXJ5KS5qb2luICcgJ1xyXG5cdFx0ZGl2IF8ua2V5cyhiaW5hcnkpLmpvaW4gJyAnXHJcblx0XHRmb3IgaXRlbSBpbiBzdGFja1xyXG5cdFx0XHRoMSBpdGVtXHJcblx0XHRpbnB1dCBpZDoneCcsIHR5cGU6XCJ0ZXh0XCIsIG5hbWU6XCJuclwiLCBvbmtleXVwOm9ua2V5dXAsIHN0eWxlOidmb250LWZhbWlseTpDb3VyaWVyIE5ldztmb250LXNpemU6MzBweCdcclxuXHJcbm9wMSA9IChmKSAtPlxyXG5cdHggPSBzdGFjay5wb3AoKVxyXG5cdHN0YWNrLnB1c2ggZiB4XHJcblxyXG5vcDIgPSAoZikgLT5cclxuXHR4ID0gc3RhY2sucG9wKClcclxuXHR5ID0gc3RhY2sucG9wKClcclxuXHRzdGFjay5wdXNoIGYgeSx4XHJcblxyXG5jYWxjID0gKGNtZCkgLT5cclxuXHRpZiBjbWQgaW4gXy5rZXlzIG1pc2MgICB0aGVuIHJldHVybiBtaXNjW2NtZF0oKVxyXG5cdGlmIGNtZCBpbiBfLmtleXMgdW5hcnkgIHRoZW4gcmV0dXJuIG9wMSB1bmFyeVtjbWRdXHJcblx0aWYgY21kIGluIF8ua2V5cyBiaW5hcnkgdGhlbiByZXR1cm4gb3AyIGJpbmFyeVtjbWRdXHJcblx0bnIgPSBwYXJzZUZsb2F0IGNtZFxyXG5cdGlmIG5vdCBpc05hTiBuciB0aGVuIHN0YWNrLnB1c2ggbnJcclxuXHJcbm9ua2V5dXAgPSAoZXZ0KSA9PiBcclxuXHRpZiBldnQua2V5ID09ICdFbnRlcicgXHJcblx0XHRpZiBldnQudGFyZ2V0LnZhbHVlID09ICcnIHRoZW4gc3RhY2sucHVzaCBfLmxhc3Qgc3RhY2tcclxuXHRcdGVsc2UgY2FsYyBjbWQgZm9yIGNtZCBpbiBldnQudGFyZ2V0LnZhbHVlLnNwbGl0ICcgJ1x0XHRcdFx0XHJcblx0XHRldnQudGFyZ2V0LnZhbHVlID0gJydcclxuXHRcdHJvb3QuaW5uZXJIVE1MID0gcmVuZGVyKClcclxuXHRcdHguZm9jdXMoKVxyXG5cclxucm9vdC5pbm5lckhUTUwgPSByZW5kZXIoKVxyXG4iXX0=
//# sourceURL=c:\github\LiveShare\2019-10-08\coffee\index.coffee